<div class="alert alert-success <%= 'd-none' if notice.blank? %> alert-dismissible fade show" role="alert">
  <%= notice %>
  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>

<div class="d-flex justify-content-between align-items-center mb-5">
  <h1 class="m-0">Customers</h1>
  <%= link_to "New Customer", new_customer_path, class: "btn btn-success" %>
</div>


<% if @customers.any? %>
<div id="customers">
  <table class="table table-striped table-bordered">
    <thead class="table-light">
      <tr>
        <th><%= sortable("first_name") %></th>
        <th><%= sortable("last_name") %></th>
        <th><%= sortable("date_of_birth", "Date of Birth") %></th>
        <th><%= sortable("phone_number") %></th>
        <th class="text-end">Actions</th>
      </tr>
    </thead>
    <tbody>
      <% @customers.each do |customer| %>
        <tr>
          <td><%= customer.first_name %></td>
          <td><%= customer.last_name %></td>
          <td><%= customer.date_of_birth.strftime("%m/%d/%Y") if customer.date_of_birth %></td>
          <td><%= customer.phone_number %></td>
          <td>
            <div class="d-flex justify-content-end">
              <%= link_to "Show", customer, class: "btn btn-sm btn-secondary me-1" %>
              <%= link_to "Edit", edit_customer_path(customer), class: "btn btn-sm btn-secondary me-1" %>
              <%= link_to "Delete", customer, method: :delete, data: { confirm: "Are you sure?" }, class: "btn btn-sm btn-danger" %>
            </div>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>

  <div class="d-flex justify-content-center">
    <%= paginate @customers %>
  </div>
</div>

<% else %>
  <div class="card text-center p-5">
    <div class="card-body">
      <h5 class="card-title">No records found</h5>
      <p class="card-text text-muted">Customer records will appear here once available.</p>
    </div>
  </div>
<% end %>
